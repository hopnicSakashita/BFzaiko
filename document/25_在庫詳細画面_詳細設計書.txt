====================================================================
在庫管理システム - 在庫詳細画面 詳細設計書
====================================================================

■ 1. 画面概要
====================================================================
【画面名】
　在庫詳細画面

【画面目的】
　製品IDとランクを指定して在庫の詳細情報を表示し、
　入庫数量・在庫残数の確認と出庫作業への遷移機能を提供する。

【アクセス情報】
　- URL: /common/stock_detail
　- 認証: 必須（ログイン必須）

■ 2. 画面レイアウト
====================================================================
【2.1 画面構造】
```
├── base.html（共通テンプレート）
│   ├── ヘッダー（ナビゲーション）
│   ├── サイドメニュー
│   └── メインコンテンツエリア
│       └── common_stock_detail.html
│           ├── ページタイトル「在庫詳細」
│           ├── 検索条件セクション
│           ├── 在庫詳細一覧セクション
│           └── 集計サマリーセクション
```

【2.2 検索条件セクション】
```
┌─────────────────────────────────────────────────────┐
│ 検索条件                                            │
├─────────────────┬─────────────────┬─────────────────┤
│ 製品ID:         │ 製品名:         │ ランク:         │
│ PRD001          │ 製品A           │ A               │
└─────────────────┴─────────────────┴─────────────────┘
```

【2.3 在庫詳細一覧セクション】
```
┌────┬────┬────┬────┬────┬────┬────┬────┬────┬────┐
│入庫│製品│製品│LOT │分割│分割│ﾗﾝｸ │入庫│在庫│操作│
│ID  │ID  │名  │    │番号1│番号2│    │数量│残数│    │
├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
│001 │P01 │AAA │L01 │01  │01  │A   │100 │50  │出庫│
│002 │P02 │BBB │L02 │02  │02  │B   │200 │100 │出庫│
└────┴────┴────┴────┴────┴────┴────┴────┴────┴────┘
```

【2.4 集計サマリーセクション】
```
┌─────────────────────────────────────────────────────┐
│ 集計サマリー                                        │
├─────────────────┬─────────────────┬─────────────────┤
│ 総件数:         │ 総入庫数量:     │ 総在庫残数:     │
│ [10件]          │ [1,000個]       │ [500個]         │
└─────────────────┴─────────────────┴─────────────────┘
```

■ 3. 機能詳細
====================================================================
【3.1 表示機能】
　- 在庫残数が0より大きい在庫データの一覧表示
　- 集計サマリー情報の表示
　- 一覧画面への戻り機能

【3.2 データ操作】
　- 出庫作業画面への遷移機能

■ 4. データ項目
====================================================================
【4.1 検索条件表示項目】

◆ 製品ID (prd_id)
　- 表示形式: テキスト
　- 必須項目

◆ 製品名 (product_name)
　- 表示形式: テキスト
　- 未設定時: "－"

◆ ランク (rank_name, rank)
　- 表示形式: テキスト
　- 未設定時: "－"

【4.2 一覧表示項目】

◆ 入庫ID (CPDD_ID)
　- 表示形式: 数値（強調表示）

◆ 製品ID (CPDD_PRD_ID)
　- 表示形式: テキスト
　- 未設定時: 空文字

◆ 製品名 (PRD_DSP_NM)
　- 表示形式: テキスト
　- 未設定時: "－"

◆ LOT (CPDD_LOT)
　- 表示形式: テキスト
　- 未設定時: 空文字

◆ 分割番号1 (CPDD_SPRIT1)
　- 表示形式: テキスト
　- 未設定時: 空文字

◆ 分割番号2 (CPDD_SPRIT2)
　- 表示形式: テキスト
　- 未設定時: 空文字

◆ ランク (RANK_NAME, CPDD_RANK)
　- 表示形式: バッジ（info）
　- 未設定時: "－"

◆ 入庫数量 (CPDD_QTY)
　- 表示形式: バッジ（primary）
　- 未設定時: 0

◆ 在庫残数 (ZAIKO_ZAN)
　- 表示形式: バッジ（success）
　- 未設定時: 0

【4.3 集計サマリー項目】

◆ 総件数
　- 計算方法: 一覧データの件数
　- 表示形式: バッジ（info）

◆ 総入庫数量
　- 計算方法: CPDD_QTYの合計
　- 表示形式: バッジ（primary）

◆ 総在庫残数
　- 計算方法: ZAIKO_ZANの合計
　- 表示形式: バッジ（success）

■ 5. エラーハンドリング
====================================================================
【5.1 データ取得エラー】
　- データなし: 「指定された条件の在庫データが見つかりませんでした。」 