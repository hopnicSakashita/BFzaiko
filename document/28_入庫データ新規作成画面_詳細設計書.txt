====================================================================
在庫管理システム - 入庫データ新規作成画面 詳細設計書
====================================================================

■ 1. 画面概要
====================================================================
【画面名】
　入庫データ新規作成画面

【画面目的】
　新規の入庫データを作成し、
　製品の入庫情報を登録する。

【アクセス情報】
　- URL: /common/cprd_dat_create
　- 認証: 必須（ログイン必須）

■ 2. 画面レイアウト
====================================================================
【2.1 画面構造】
```
├── base.html（共通テンプレート）
│   ├── ヘッダー（ナビゲーション）
│   ├── サイドメニュー
│   └── メインコンテンツエリア
│       └── cprd_dat_create.html
│           ├── ページタイトル「入庫データ新規作成」
│           ├── 戻るボタン
│           └── 入力フォーム
```

【2.2 入力フォーム】
```
┌─────────────────────────────────────────────────────┐
│ 入庫データ入力                                      │
├─────────────────────────────────────────────────────┤
│ ・製品ID *                                         │
│   - セレクトボックスまたはテキスト入力            │
│   - 5文字以内                                      │
│                                                     │
│ ・LOT *                                            │
│   - 数値入力（0-999999）                           │
│                                                     │
│ ・分割番号1                                        │
│   - 数値入力（0-99）                               │
│   - 任意入力（未入力時は0）                        │
│                                                     │
│ ・分割番号2                                        │
│   - 数値入力（0-99）                               │
│   - 任意入力（未入力時は0）                        │
│                                                     │
│ ・ランク *                                         │
│   - セレクトボックス                               │
│                                                     │
│ ・数量 *                                           │
│   - 数値入力（0-99999）                            │
│                                                     │
│ [キャンセル] [リセット] [登録]                     │
└─────────────────────────────────────────────────────┘
```

■ 3. 機能詳細
====================================================================
【3.1 表示機能】
1. 製品ID入力
   - 製品マスタ存在時：セレクトボックス表示
     - 表示形式：製品ID - 製品表示名（または製品名）
   - 製品マスタ未存在時：テキスト入力フィールド表示

2. ランク選択
   - 区分マスタから取得したランク一覧を表示
   - 表示形式：区分番号 - 区分名

【3.2 入力機能】
1. 必須入力項目
   - 製品ID（5文字以内）
   - LOT（0-999999）
   - ランク（選択式）
   - 数量（0-99999）

2. 任意入力項目
   - 分割番号1（0-99）
   - 分割番号2（0-99）

【3.3 入力制御】
1. 製品ID
   - 最大5文字
   - 必須入力

2. LOT
   - 数値のみ
   - 0-999999の範囲
   - 必須入力

3. 分割番号1,2
   - 数値のみ
   - 0-99の範囲
   - 未入力時は0として扱う

4. 数量
   - 数値のみ
   - 0-99999の範囲
   - 必須入力

【3.4 ボタン操作】
1. 登録ボタン
   - 入力値の検証実行
   - 確認ダイアログ表示
   - 登録処理実行

2. リセットボタン
   - 入力値をクリア

3. キャンセルボタン
   - 一覧画面に戻る

■ 4. エラー処理
====================================================================
【4.1 入力チェックエラー】
1. 必須項目未入力
   - 製品ID未入力
   - LOT未入力
   - ランク未選択
   - 数量未入力

2. 形式チェック
   - 製品ID：5文字超過
   - LOT：範囲外（0-999999）
   - 分割番号：範囲外（0-99）
   - 数量：範囲外（0-99999）

【4.2 エラーメッセージ】
1. アラート表示
   - 各項目のエラー内容を具体的に表示
   - 日本語でわかりやすく表示

■ 5. イベント処理
====================================================================
【5.1 登録時の処理】
1. 入力値の最終チェック
   - 全必須項目の入力確認
   - 各項目の形式チェック
   - エラー時はアラート表示

2. 確認ダイアログ
   - 登録前に確認メッセージを表示
   - フラグは自動的に0が設定される旨を表示

3. 登録実行
   - 確認後、登録処理を実行
   - キャンセル時は処理中断 